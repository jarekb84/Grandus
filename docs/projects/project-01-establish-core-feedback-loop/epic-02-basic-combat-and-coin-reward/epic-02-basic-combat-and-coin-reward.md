# Epic: 02-Basic-Combat-And-Coin-Reward

## Epic Goal

*   Implement a minimal Combat Scene (PhaserJS) triggered from Territory (using the target hex from Epic 1). Include basic enemy spawning (Wave 1), player firing (using raw Stone initially), and awarding persistent `Coins` upon clearing Wave 1. Connects the Combat trigger to earning the core currency.

## Status

*   Proposed

## Linked Project

*   **Project File:** [`project-01-establish-core-feedback-loop.md`](../project-01-establish-core-feedback-loop.md)
*   **Overall Project Goal:** Implement the minimum viable gameplay loop connecting the core views: Gather Stone in Territory View, initiate Expand Combat, earn persistent Coins from Combat success (e.g., clearing Wave 1), spend Coins in a minimal Management View to unlock basic Stone-to-Pebble crafting, use crafted Pebbles to conquer the first Hex (e.g., clear Wave 10), and have the conquered Hex reveal a better/new Stone node.

## Scope & Key Features (for this Epic)

*   Trigger the existing Combat Scene (PhaserJS) when `Expand Combat` is initiated from Territory (using the target hex context from Epic 1).
*   Modify Combat Scene enemy spawning: Spawn only 1 basic enemy for Wave 1.
*   Modify Combat Scene player firing: Ensure player can fire projectiles consuming raw Stone from inventory (as Pebbles aren't craftable yet). Balance player projectile damage vs. Wave 1 enemy health (e.g., 1 Stone projectile kills 1 Wave 1 enemy).
*   Implement Wave tracking logic (minimum: track completion of Wave 1).
*   Implement `Coin` reward system: Upon successful clearing of Wave 1, add 1 persistent `Coin` to the player's core game state/inventory.
*   Replace any existing temporary currency reward (e.g., `$`) with the `Coin` system.
*   Basic win condition for the reward: clearing Wave 1. (Death/loss condition can remain basic for now).

## Out of Scope (for this Epic)

*   Implementing Waves beyond Wave 1.
*   Implementing the Wave 10 conquest trigger.
*   Using or crafting Pebbles.
*   Spending `Coins` in the Management View.
*   Complex enemy behaviors or stats scaling.
*   Player health/damage mechanics beyond basic functionality needed for testing Wave 1 clear.

## Embedded Project Context

*   **Relevant Project Sections:**
    *   From Project Goal: ...initiate Expand Combat, earn persistent Coins from Combat success (e.g., clearing Wave 1)...
    *   From Key Systems: Combat Scene (PhaserJS): Basic enemy spawning, Wave/Depth tracking, awarding persistent `Coins` upon reaching milestones (e.g., Wave 1 clear)... basic player entity firing Pebbles...
    *   From Source Context (Combat Scene): Engage in active combat... Push combat depth... earn rewards... persistent currency (Coins)...
    *   From Source Context (MVP Refined): Basic `Combat Scene` (PhaserJS): Triggered by `Expand Combat`. Simple scene with player entity firing basic projectiles (consuming Stone/Pebbles)... Implement Coin currency (awarded simply for completing a combat run).
    *   From User Context: ...Attack Hex -> Clear Wave 1 -> Get 1 Coin... Maybe the initial wave is just one, one monster or one enemy... kill the first wave and I kill the first guy, I get one dollar. Maybe I get one coin... Ensure Wave 1 is appropriately balanced (e.g., 1 enemy killable by 1 Stone).

## Notes / Design Links / Dependencies (Optional)

*   Depends on Epic 1 for targeted `Expand Combat` initiation.
*   Requires existing Combat Scene structure.
*   Requires access to core game state for awarding/storing `Coins`.
*   Requires basic player firing logic (to be adapted for Stone ammo).

---
*Generated by Roo `project-epic-generator` mode.*