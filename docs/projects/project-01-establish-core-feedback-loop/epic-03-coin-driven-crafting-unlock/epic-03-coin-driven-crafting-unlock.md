# Epic: 03-Coin-Driven-Crafting-Unlock

## Epic Goal

*   Create the basic Management View (React) displaying the persistent `Coin` balance earned in Epic 2. Implement the "Learn Rock Breaking" research option, making it purchasable *only* with `Coins`. Link this purchase to enabling the Stone -> Pebbles crafting recipe in the core game state. Connects earned currency to the first progression step.

## Status

*   Proposed

## Linked Project

*   **Project File:** [`project-01-establish-core-feedback-loop.md`](../project-01-establish-core-feedback-loop.md)
*   **Overall Project Goal:** Implement the minimum viable gameplay loop connecting the core views: Gather Stone in Territory View, initiate Expand Combat, earn persistent Coins from Combat success (e.g., clearing Wave 1), spend Coins in a minimal Management View to unlock basic Stone-to-Pebble crafting, use crafted Pebbles to conquer the first Hex (e.g., clear Wave 10), and have the conquered Hex reveal a better/new Stone node.

## Scope & Key Features (for this Epic)

*   Adapt the existing Management View (React) or create a minimal version if needed.
*   Display the current persistent `Coin` balance (read from core game state, updated by Epic 2).
*   Implement a "Research" section (or similar) in the Management View.
*   Add a research option: "Learn Rock Breaking".
*   Display the `Coin` cost for this research (e.g., 1 or 2 Coins, based on tuning from user context).
*   Implement purchase logic: Button to buy the research, enabled only if the player has enough `Coins`. Deduct `Coins` upon purchase.
*   Link the purchase to the core game state: Set a flag or unlock status indicating that "Rock Breaking" is researched. This flag will gate the actual crafting in Epic 4.
*   Ensure the `Coin` display updates correctly after purchase.

## Out of Scope (for this Epic)

*   Implementing the actual Stone -> Pebbles crafting mechanism (that's Epic 4).
*   Displaying or using Pebbles.
*   Any other research options or workshop upgrades.
*   Visual indication of the unlocked recipe (the unlock happens in the state).

## Embedded Project Context

*   **Relevant Project Sections:**
    *   From Project Goal: ...spend Coins in a minimal Management View to unlock basic Stone-to-Pebble crafting...
    *   From Key Systems: Management View (React): Minimal UI showing `Coin` balance, a single research/unlock option ("Learn Rock Breaking") costing Coins... basic Stone -> Pebbles crafting recipe unlocked via the research.
    *   From Source Context (Management View): The central hub for permanent progression... Players spend persistent currency (Coins) etc. here.
    *   From Source Context (MVP Refined): Basic `Management View` (React): Minimal view... Implement Coin currency... Allow purchasing one basic Workshop upgrade... *(Note: Plan changed to use Coin for crafting unlock first)*
    *   From User Context: Unlock Management -> Research Rock Breaking (costs Coin)... then I show the management tab or, and then I show that, oh, hey, I can mine that one stone... but I can break that single stone into pebbles... I want that to be like something you unlock or research... maybe I need to add something to the management, management tab to research something. So I unlock crafting... I get one coin and then that one coin can unlock the management tab. And then I see that I need another coin to learn how to break rocks... now I can research the rock breaking technology.

## Notes / Design Links / Dependencies (Optional)

*   Depends on Epic 2 for `Coin` generation and storage in the core game state.
*   Requires existing React Management View structure (or creation of a minimal one).
*   Requires access to read/write `Coin` balance and the research unlock status in the core game state.

---
*Generated by Roo `project-epic-generator` mode.*